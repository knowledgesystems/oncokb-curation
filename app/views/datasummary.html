<div ng-init="init()">
    <table class="table" datatable="ng" dt-options="dtOptions" dt-columns="dtColumns">
        <thead><tr class="dashedHeader">
            <th>Gene</th>
            <th qtip content="Has summary">Summary</th>
            <th qtip content="Has background">BG</th>
            <th># Variants</th>
            <th># Cancer Type</th>
            <th qtip content="Combination between variant and cancer type"># Combo</th>
            <th qtip content="Number of standard implications for sensitivity to therapy"># SS</th>
            <th qtip content="Number of standard implications for resistance to therapy"># SR</th>
            <th qtip content="Number of investigational implications for sensitivity to therapy"># IS</th>
            <th qtip content="Number of investigational implications for resistance to therapy"># IR</th>
            <th># trials</th>
        </tr></thead>
        <tbody>
        <tr data-ng-repeat="gene in genes">
            <td><strong>{{gene.name}}</strong></td>
            <td>{{gene.hasSummary}}</td>
            <td>{{gene.hasBackground}}</td>
            <td><span qtip content="{{gene.mutations.join('<br>')}}">{{gene.numMutations}}</span></td>
            <td><span qtip content="{{gene.tumors.join('<br>')}}">{{gene.numCancerTypes}}</span></td>
            <td>{{gene.numVCConbinations}}</td>
            <td ng-repeat="therapyCategory in therapyCategories"><span qtip content="{{gene[therapyCategory].keys.join('<br>')}}">{{gene[therapyCategory].num}}</span></td>
            <td><span qtip content="{{gene.trials.keys.join('<br>')}}">{{gene.trials.num}}</span></td>
        </tr>
        </tbody>
    </table>

    <h4>Therapy levels</h4>
    <table class="table" datatable="ng" dt-options="dtOptions" dt-columns="dtColumnsLevels">
        <thead><tr class="dashedHeader">
            <th>Gene</th>
            <th># L-1</th>
            <th># L-2A</th>
            <th># L-2B</th>
            <th># L-3</th>
            <th># L-4</th>
            <th># L-R1</th>
            <th># L-R2</th>
            <th># L-R3</th>
        </tr></thead>
        <tbody>
        <tr data-ng-repeat="gene in genes">
            <td><strong>{{gene.name}}</strong></td>
            <td ng-repeat="levelCategory in levelCategories">
                <span qtip content="{{gene.therapyLevels[levelCategory].keys.join('<br>')}}">{{gene.therapyLevels[levelCategory].num}}</span>
            </td>
        </tr>
        </tbody>
    </table>

    <h4>Treatment levels</h4>
    <table class="table" datatable="ng" dt-options="dtOptions" dt-columns="dtColumnsLevels">
        <thead><tr class="dashedHeader">
            <th>Gene</th>
            <th># L-1</th>
            <th># L-2A</th>
            <th># L-2B</th>
            <th># L-3</th>
            <th># L-4</th>
            <th># L-R1</th>
            <th># L-R2</th>
            <th># L-R3</th>
        </tr></thead>
        <tbody>
        <tr data-ng-repeat="gene in genes">
            <td><strong>{{gene.name}}</strong></td>
            <td ng-repeat="levelCategory in levelCategories">
                <span qtip content="{{gene.treatmentLevels[levelCategory].keys.join('<br>')}}">{{gene.treatmentLevels[levelCategory].num}}</span>
            </td>
        </tr>
        </tbody>
    </table>
</div>
